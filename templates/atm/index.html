{% extends "base.html" %}
{% block title %}
    {{block.super}}&nbsp&nbsp Filter ATMs by city/bank
{% endblock %}

{% block main_content %}
        <div class="content">
         
         {% if atms.object_list %} 

            {% for atm in atms.object_list %}
                <a href="{{atm.get_bank_url }}"><i>{{atm.name_of_bank }} </i></a>
                <br>
                <a href="{{atm.get_city_url }}"> <i>{{atm.name_of_city }} </i></a>  
                <br>
                {{ atm.address|slice:":15" }}   
                <a href="{{ atm.get_detail_url }}"><i>{{"go to details ..."}}</i></a> 
                <br><br>
            {% endfor %}
           {% else %}
           <h3> sorry no matching query </h3>     
         {% endif %}
         
        </div>
        
        <div class="sidebar">
            <div class="sidebar_item">
                <h5>Filter by first letter of Banks</h5> 
                    <ul> 
                        {% for letter in letters %}
                            <strong><a href="?letter={{letter}}">{{letter}}</a></strong>
                            <br/>
                        {% endfor %}
                    </ul> 
            </div>
       
        </div>
    <!--</div>-->
    <div class="pagination">
          <span class="step-links">
            {% if atms.has_previous %}
            <a href="?letter={{current_letter}}&page={{ atms.previous_page_number }}">previous</a>
            {% endif %}

            <span class="current">
              Page {{ atms.number }} of {{ atms.paginator.num_pages }}.
            </span>

            {% if atms.has_next %}
            <a href="?letter={{current_letter}}&page={{ atms.next_page_number }}">next</a>
            {% endif %}
          </span>
        </div>

{% endblock %}

